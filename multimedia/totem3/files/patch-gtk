--- browser-plugin/totem-plugin-viewer.c.orig	2011-02-02 11:24:22.000000000 +0000
+++ browser-plugin/totem-plugin-viewer.c	2011-02-17 21:10:13.000000000 +0000
@@ -33,7 +33,7 @@
 #include <glib.h>
 #include <glib/gi18n.h>
 #include <gio/gio.h>
-#include <gtk/gtkx.h>
+#include <gdk/gdkx.h>
 #include <gtk/gtk.h>
 
 #include <gdk/gdk.h>
@@ -1797,7 +1797,7 @@ totem_embedded_key_press_event (GtkWidge
 
 static gboolean
 totem_embedded_construct (TotemEmbedded *emb,
-			  Window xid,
+			  GdkNativeWindow xid,
 			  int width,
 			  int height)
 {
@@ -2086,7 +2086,7 @@ totem_embedded_set_window (TotemEmbedded
 	embedded->width = width;
 	embedded->height = height;
 
-	totem_embedded_construct (embedded, (Window) window,
+	totem_embedded_construct (embedded, (GdkNativeWindow) window,
 				  width, height);
 
 	return TRUE;
--- src/backend/bacon-video-widget-gst-missing-plugins.c.orig	2011-02-02 11:24:22.000000000 +0000
+++ src/backend/bacon-video-widget-gst-missing-plugins.c	2011-02-17 21:10:13.000000000 +0000
@@ -35,7 +35,7 @@
 #include <gtk/gtk.h>
 
 #ifdef GDK_WINDOWING_X11
-#include <gtk/gtkx.h>
+#include <gdk/gdkx.h>
 #endif
 
 #include <string.h>
@@ -57,12 +57,12 @@ TotemCodecInstallContext;
 
 #ifdef GDK_WINDOWING_X11
 /* Adapted from totem-interface.c */
-static Window
+static GdkNativeWindow
 bacon_video_widget_gtk_plug_get_toplevel (GtkPlug *plug)
 {
 	Window root, parent, *children;
 	guint nchildren;
-	Window xid;
+	GdkNativeWindow xid;
 
 	g_return_val_if_fail (GTK_IS_PLUG (plug), 0);
 
@@ -86,7 +86,7 @@ bacon_video_widget_gtk_plug_get_toplevel
 	while (TRUE);
 }
 
-static Window
+static GdkNativeWindow
 bacon_video_widget_gst_get_toplevel (GtkWidget *widget)
 {
 	GtkWidget *parent;
--- src/totem-interface.c.orig	2011-02-02 11:24:22.000000000 +0000
+++ src/totem-interface.c	2011-02-17 21:10:13.000000000 +0000
@@ -43,7 +43,7 @@
 #include <glib.h>
 #include <glib/gi18n.h>
 #include <gtk/gtk.h>
-#include <gtk/gtkx.h>
+#include <gdk/gdkx.h>
 
 #include "totem-interface.h"
 
@@ -293,7 +293,7 @@ totem_gtk_plug_get_toplevel (GtkPlug *pl
 {
 	Window root, parent, *children;
 	guint nchildren;
-	Window xid;
+	GdkNativeWindow xid;
 
 	g_return_val_if_fail (GTK_IS_PLUG (plug), NULL);
 
